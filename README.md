# Tivan - A native agent for InfluxDB

## Quickstart

* Build from source or download tivan (binaries forthcoming)
* Run `tivan -sample-config > tivan.toml` to create an initial configuration
* Edit the configuration to match your needs
* Run `tivan -config tivan.toml -test` to output one full measurement sample to STDOUT
* Run `tivan -config tivan.toml` to gather and send metrics to InfluxDB

## Tivan Options

Tivan has a few options you can configure under the `agent` section of the config. If you don't see an `agent` section run `tivan -sample-config > tivan.toml` to create a valid initial configuration:

* **hostname**: The hostname is passed as a tag. By default this should be set to the name of the machine running Tivan. You can override that behavior here.
* **interval**: How ofter to gather metrics. Uses a simple number + unit parser, ie "10s" for 10 seconds or "5m" for 5 minutes.
* **debug**: currently non-functional. Run `tivan -config tivan.toml -debug` to gather and send metrics to InfluxDB and to STDOUT for debugging purposes

## Plugin Options

There are 3 configuration options that are configurable per plugin:

* **pass**: An array of strings that is used to filter metrics generated by the current plugin. Each string in the array is tested as a prefix against metrics and if it matches, the metric is emitted.
* **drop**: The inverse of pass, if a metric matches, it is not emitted.
* **interval**: How often to gather this metric. Normal plugins use a single global interval, but if one particular plugin should be run less or more often, you can configure that here.
